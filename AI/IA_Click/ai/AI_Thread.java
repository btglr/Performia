/* Dreugui
 * //========================================<>=================================================//
 * //========================================<>=================================================//
 * //===								 AI_Thread											====//
 * //========================================<>=================================================//
 * //========================================<>=================================================//
 * 	IA_Thread V1
 * //===========================================================================================//
 * //										IMPORT												//
 * //===========================================================================================//
 * */
	/*================================<DEFINE>================================*/
package ai;

	/*================================<GENERAL>================================*/
import org.json.JSONObject;

	/*================================<PERSONEL>================================*/

	/*================================<DECLARATION>================================*/
public class AI_Thread extends Thread{
	
/*
 * //===========================================================================================//
 * //										THREAD												//
 * //===========================================================================================//
 * */
	/*================================<DECLARATION>================================*/
	Thread t;
	int id;
	TCPClient tcpClient;
	JSONObject msg;
	JSONObject grille;
	
	/*================================<CONSTRUCTEUR>================================*/
	public AI_Thread(JSONObject data,TCPClient tcpClient)
	{
		this.msg = new JSONObject();
		msg.put("id_player", tcpClient.getUserId());
		this.grille = data.getJSONArray("grille");
		this.start();
		this.tcpClient = tcpClient;
	}

	/*================================<FONCTION>================================*/
	public void run(){
		try {
			int i = 0 ;
			while( !grille.getBoolean(i) )
				i++;
			// Attente entre 100 et 200 ms 
			sleep((long) (100 + (Math.random() * 100)));
		} catch (InterruptedException e) {
			e.printStackTrace();
		}
		msg.put("case",i);
		tcpClient.sendTurn(msg);
	}
}








